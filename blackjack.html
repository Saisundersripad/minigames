<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Blackjack Game</title>
  <link rel="stylesheet" href="styles/blackjack.css" />
  <script>
    if (performance.navigation.type === 1) {
      window.location.href = "index.html";
    }
  </script>
</head>
<body>

<!-- Start Screen -->
<div id="start-screen">
  <a href="#" id="home-button">üè† Home</a>
  
  <img src="assets/blackjack_logo.png" alt="Blackjack Logo" class="logo" />
  <h1>Blackjack</h1>
  <button id="start-btn">Start Game</button>
  <button id="rules-btn">Rules</button>
  <p class="disclaimer">
    <strong>Disclaimer:</strong>
    This Blackjack game is for entertainment purposes only. No real money is involved, and it does not promote gambling. Please play responsibly.
  </p>
  <div class="falling-suits" id="falling-suits"></div>
</div>

<!-- Rules Modal -->
<div id="rules-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content scrollable-rules">
    <h2 style="margin-top: 0;">Blackjack Rules</h2>

    <div class="rules-text">
      <h4>How to Play</h4>
      <ul>
        <li>Select your bet amount.</li>
        <li>Click <strong>Hit</strong> to draw a card.</li>
        <li>Click <strong>Stand</strong> to stop drawing cards.</li>
        <li>Dealer plays automatically after you stand.</li>
      </ul>

      <h4>Dealer Rules</h4>
      <ul>
        <li>Hits until total is 17 or more.</li>
        <li>Does not base moves on your hand.</li>
        <li>Busts if going over 21 ‚Äî you win.</li>
      </ul>

      <h4>Winning</h4>
      <ul>
        <li>Closer to 21 than dealer = win.</li>
        <li>Over 21 = bust and lose.</li>
        <li>Same value = tie (push).</li>
        <li>Win = 2√ó your bet. Lose = bet lost.</li>
      </ul>

      <h4>Card Values</h4>
      <ul>
        <li>Number cards = face value.</li>
        <li>J, Q, K = 10 points.</li>
        <li>A = 1 or 11, whichever is better.</li>
      </ul>

      <p><strong>Note:</strong> Progress is not saved. This is for entertainment only.</p>
    </div>

    <button id="close-rules" style="margin-top: 10px;">Close</button>
  </div>
</div>

<!-- Game Area -->
<div id="game-area" style="display: none;">
  <div id="status">
    <p>Money: $<span id="money">1000</span></p>
    <div id="current-bet-container">
      <p id="current-bet">Bet Amount: $0</p>
      <button id="change-bet-btn" class="inline-btn">Change Bet</button>
    </div>
    
  </div>

  <div class="hands">
    <div class="hand-container">
      <h2 id="dealer-label">Dealer</h2>
      <div class="hand">
        <div id="dealer-cards" class="cards"></div>
      </div>
    </div>

    <hr class="divider" />

    <div class="hand-container">
      <div class="hand">
        <div id="player-cards" class="cards"></div>
      </div>
    </div>
  </div>

  <h2 id="player-label">Player</h2>

  <div class="buttons">
    <button id="hit-btn">Hit</button>
    <button id="stand-btn">Stand</button>
  </div>

<!-- Static result section -->
<div id="result-section" style="display: none;">
  <h3 style="margin-bottom: 5px; color: #ffcc00;">Result</h3>
  <p id="result-message" class="static-result"></p>

  <!-- Normal game end buttons -->
  <div id="action-buttons">
    <button id="next-round">Proceed</button>
    <button id="cancel-game">Exit</button>
  </div>

  <!-- When player has no money -->
  <div id="no-money" style="display: none;">
    <p style="color: white; background-color: #222; padding: 10px; border-radius: 6px; font-weight: bold;">
      You have no money to bet!
    </p>
    <button id="end-game">End Game</button>
  </div>
</div>

<!-- Game Over -->
<div id="game-over" style="display: none;">
  <h1>Game Over</h1>
  <button id="restart-btn">Play Again</button>
</div>

<!-- Bet Modal -->
<div id="bet-modal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <h2>Place Your Bet</h2>
    <div id="bet-controls">
      <button id="minus-100">-100</button>
      <button id="minus-10">-10</button>
      <input type="number" id="bet-amount" value="100" readonly />
      <button id="plus-10">+10</button>
      <button id="plus-100">+100</button>
    </div>
    <button id="confirm-bet">Confirm Bet</button>
  </div>
</div>

<script src="scripts/blackjack.js"></script>

</body>
</html>